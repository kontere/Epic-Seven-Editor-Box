<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Epic Seven — Catalog Check</title>
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;margin:20px;}
  .ok{color:#16a34a;font-weight:700}
  .warn{color:#d97706;font-weight:700}
</style>
</head>
<body>
<h1>Epic Seven — Catalog Check</h1>
<p>Cette page charge <code>data/heroes.json</code> et <code>data/artifacts.json</code> depuis ton repo, pour vérifier que tout est bon. Ensuite on branchera l'UI complète.</p>

<ul id="info"></ul>

<script>
async function load(u){ const r=await fetch(u); if(!r.ok) throw new Error(u+" "+r.status); return r.json(); }
(async()=>{
  const ul = document.getElementById('info');
  try{
    const [H,A] = await Promise.all([load('data/heroes.json'), load('data/artifacts.json')]);
    const hc = Array.isArray(H.heroes) ? H.heroes.length : 0;
    const ac = Array.isArray(A.artifacts) ? A.artifacts.length : 0;

    const hli = document.createElement('li');
    hli.innerHTML = `Heroes: <strong>${hc}</strong> ${hc>=364 ? '<span class="ok">OK</span>' : '<span class="warn">LOW</span>'}`;
    const ali = document.createElement('li');
    ali.innerHTML = `Artifacts: <strong>${ac}</strong> ${ac>=259 ? '<span class="ok">OK</span>' : '<span class="warn">LOW</span>'}`;

    ul.appendChild(hli); ul.appendChild(ali);

    // petit aperçu des 10 premiers héros
    const li = document.createElement('li');
    li.innerHTML = "<em>First 10 heroes:</em> " + (H.heroes||[]).slice(0,10).map(x=>x.name).join(", ");
    ul.appendChild(li);
  }catch(e){
    const li = document.createElement('li');
    li.textContent = "Error: " + e.message;
    ul.appendChild(li);
  }
})();
</script>
</body>
</html>
